@import "tailwindcss";

:root {
  /* Primary palette (EGA-inspired) */
  --background: #222326; /* dark charcoal */
  --surface: #2b2b2d;
  --foreground: #e6e6e6; /* main text */
  --muted: #9aa0a6; /* secondary text */
  --ega-cyan: 34,211,238; /* stored as rgb components for rgba usage */
  --ega-magenta: 244,114,182;
  --ega-white: 255,255,255;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    /* already dark by default; keep variables consistent for dark mode */
    --background: #222326;
    --foreground: #e6e6e6;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Map some Tailwind classes to our palette so existing markup stays unchanged */
.bg-black { background-color: var(--background) !important; }
.bg-gray-900 { background-color: var(--surface) !important; }
.text-white { color: rgb(var(--ega-white)) !important; }
.text-cyan-300 { color: rgb(var(--ega-cyan)) !important; }
.text-cyan-400 { color: rgb(var(--ega-cyan)) !important; }
.text-pink-400 { color: rgb(var(--ega-magenta)) !important; }
.text-magenta-400 { color: rgb(var(--ega-magenta)) !important; }
.border-cyan-400 { border-color: rgb(var(--ega-cyan)) !important; }
.border-magenta-500 { border-color: rgb(var(--ega-magenta)) !important; }
.hover\:text-cyan-400:hover { color: rgb(var(--ega-cyan)) !important; }
.hover\:text-pink-400:hover { color: rgb(var(--ega-magenta)) !important; }
.hover\:border-white:hover { border-color: rgb(var(--ega-white)) !important; }

/* subtle link style to match CV */
a { color: rgb(var(--ega-cyan)); text-decoration: none; }
a:hover { color: rgb(var(--ega-magenta)); }

/* Muted text */
.text-slate-300, .text-slate-400, .text-zinc-400 { color: var(--muted) !important; }

/* Footer and decorative boxes */
.border-yellow-300 { border-color: rgb(var(--ega-white)) !important; }
.text-yellow-300 { color: rgb(var(--ega-white)) !important; }

/* --- Standout effects: animated gradient, scanlines, CRT glow, neon links --- */

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -3;
  background: linear-gradient(120deg, rgba(var(--ega-cyan),0.07), rgba(var(--ega-magenta),0.06), rgba(var(--ega-white),0.02));
  background-size: 400% 400%;
  opacity: 1;
  mix-blend-mode: screen;
  animation: gradientShift 18s ease infinite;
  pointer-events: none;
}

/* subtle CRT scanlines overlay */
.overlay-scanlines {
  position: fixed;
  inset: 0;
  z-index: 60;
  pointer-events: none;
  background-image: linear-gradient(rgba(0,0,0,0.06) 50%, rgba(255,255,255,0.02) 50%);
  background-size: 100% 3px;
  mix-blend-mode: overlay;
  opacity: 0.6;
}

/* light vignette + subtle noise using radial gradients */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.02) 0%, rgba(0,0,0,0.5) 75%);
  pointer-events: none;
}

/* Neon link glow on hover */
.neon-link {
  transition: text-shadow 220ms ease, color 160ms ease;
}
.neon-link:hover {
  text-shadow: 0 0 10px rgba(var(--ega-cyan),0.8), 0 0 24px rgba(var(--ega-magenta),0.35);
  color: rgb(var(--ega-white));
}

/* Hero caret */
.hero-caret {
  display: inline-block;
  margin-left: 8px;
  color: rgb(var(--ega-white));
  opacity: 0.95;
  animation: blink 1s steps(1) infinite;
}
@keyframes blink { 50% { opacity: 0 } }

/* Make overlay slightly weaker on mobile */
@media (max-width: 640px) {
  .overlay-scanlines { opacity: 0.3; }
  body::before { opacity: 0.6; }
}

/* Particle canvas sits behind the gradient and scanlines */
.particle-canvas {
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;
  opacity: 0.45;
}

/* Card tilt variables and effect (set by JS per-card) */
.tilt-card {
  --tcx: 0; /* -1..1 */
  --tcy: 0;
  transition: transform 160ms ease, box-shadow 160ms ease;
  transform: perspective(900px) rotateX(calc(var(--tcy) * 6deg)) rotateY(calc(var(--tcx) * -8deg)) translateZ(0);
}
.tilt-card:hover { box-shadow: 0 20px 60px rgba(0,0,0,0.6); }

/* Header glitch animation */
@keyframes headerGlitch {
  0% { transform: translate3d(0,0,0); }
  20% { transform: translate3d(-4px,0,0); filter: hue-rotate(5deg); }
  40% { transform: translate3d(3px,-1px,0); filter: hue-rotate(-5deg); }
  60% { transform: translate3d(-2px,1px,0); }
  80% { transform: translate3d(1px,0,0); }
  100% { transform: translate3d(0,0,0); }
}
.glitch { display: inline-block; }
.glitch--active { animation: headerGlitch 420ms linear; }

/* Typewriter text */
.typewriter {
  display: inline-block;
  border-right: 2px solid rgba(var(--ega-white),0.9);
  padding-right: 6px;
  white-space: nowrap;
  overflow: hidden;
}


/* 3D header variables and effect - subtle, reactive to mouse position */
:root {
  /* normalized mouse position -1 .. 1 */
  --mx: 0;
  --my: 0;
}


/* 3D header styles are opt-in via the data attribute `data-three-d="true"` on <html> */
html[data-three-d="true"] h1,
html[data-three-d="true"] h2,
html[data-three-d="true"] h3,
html[data-three-d="true"] h4,
html[data-three-d="true"] h5,
html[data-three-d="true"] h6 {
  color: var(--foreground);
  position: relative;
  transition: text-shadow 120ms ease, transform 120ms ease;
  /* Use element-level variables when available, fall back to root --mx/--my */
  --mx-local: calc(var(--mx, 0));
  --my-local: calc(var(--my, 0));
  
  /* stronger 3D tilt using perspective+rotate for a noticeable effect */
  transform: perspective(900px) rotateX(calc(var(--my-local) * 9deg)) rotateY(calc(var(--mx-local) * 12deg)) translate3d(calc(var(--mx-local) * -12px), calc(var(--my-local) * -12px), 0);
  will-change: text-shadow, transform;
}

/* Intensify effect on hover - the header "leans" toward the pointer */
html[data-three-d="true"] h1:hover,
html[data-three-d="true"] h2:hover,
html[data-three-d="true"] h3:hover,
html[data-three-d="true"] h4:hover,
html[data-three-d="true"] h5:hover,
html[data-three-d="true"] h6:hover {
  transform: perspective(1000px) rotateX(calc(var(--my-local) * 12deg)) rotateY(calc(var(--mx-local) * 16deg)) translate3d(calc(var(--mx-local) * -6px), calc(var(--my-local) * -6px), 0) scale(1.03);
}

/* Small responsive fallback for very small screens */
@media (max-width: 640px) {
  h1, h2, h3, h4, h5, h6 {
    text-shadow: none;
    transform: none;
  }
}

/* Reduce-motion toggle styles and reduced-motion behavior */
.motion-toggle {
  position: fixed;
  left: 12px;
  bottom: 12px;
  z-index: 9999;
  background: rgba(var(--ega-white), 0.06);
  color: rgb(var(--ega-white));
  border: 1px solid rgba(var(--ega-white), 0.08);
  padding: 8px 10px;
  font-size: 12px;
  border-radius: 6px;
  backdrop-filter: blur(6px);
  cursor: pointer;
}
.motion-toggle[aria-pressed="true"] {
  box-shadow: 0 6px 20px rgba(0,0,0,0.6), 0 0 12px rgba(var(--ega-magenta),0.12);
}

/* When reduce-motion is enabled, pause/hide heavy animations and the particle canvas */
html[data-reduce-motion="true"] .particle-canvas {
  display: none !important;
}
html[data-reduce-motion="true"] * {
  animation-play-state: paused !important;
  transition-duration: 0.001ms !important;
}
html[data-reduce-motion="true"] .hero-caret { animation-play-state: paused !important; opacity: 1; }
html[data-reduce-motion="true"] .glitch--active { animation-play-state: paused !important; }

/* Slightly lower particle opacity on small screens */
@media (max-width: 640px) {
  .particle-canvas { opacity: 0.32; }
}
